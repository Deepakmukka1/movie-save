(this.webpackJsonpreacthooksexample=this.webpackJsonpreacthooksexample||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(7),i=a.n(o),r=(a(14),a(3)),c=a(1),m=a(5),u=function(e){var t=e.modalContent,a=e.closeModal;return setTimeout((function(){a()}),2e3),l.a.createElement("div",{className:"modal"},t)},s=function(e){var t=e.movie,a=e.deleteMovie,n=t.moviename,o=t.image,i=t.year;return l.a.createElement("div",{style:{backgroundColor:"white",display:"flex",flexDirection:"column",width:"300px",height:"auto",padding:"5px",borderRadius:"10px",justifyContent:"center",alignItems:"center",cursor:"pointer"}},l.a.createElement("img",{src:o}),l.a.createElement("h4",{style:{wordWrap:"break-word",width:"200px"}},n),l.a.createElement("h5",null,"Released in: ",i),l.a.createElement("button",{className:"btn",onClick:function(){a()}},"Remove"))},d=function(){var e=Object(n.useContext)(E).state;return l.a.createElement("div",null,l.a.createElement("h4",null,"Total movies: ",e.moviesList.length))},v=a(8),p=function(e,t){if("ADD_MOVIE"===t.type)return Object(c.a)(Object(c.a)({},e),{},{moviesList:[].concat(Object(v.a)(e.moviesList),[t.payload]),isModalOpen:!0,modalContent:"\u2705 Movie added successfully"});if("CLOSE_MODAL"===t.type)return Object(c.a)(Object(c.a)({},e),{},{isModalOpen:!1});if("DELETE_MOVIE"===t.type){var a=e.moviesList.filter((function(e,a){return a!==t.payload}));return Object(c.a)(Object(c.a)({},e),{},{moviesList:a,isModalOpen:!0,modalContent:"\u274c Deleted movie successfully"})}return"FILL_ALL"===t.type?Object(c.a)(Object(c.a)({},e),{},{isModalOpen:!0,modalContent:"\ud83d\udeab Please fill all fileds"}):"INVALID_IMAGE_URL"===t.type?Object(c.a)(Object(c.a)({},e),{},{isModalOpen:!0,modalContent:"\ud83d\udeab Invalid image URL"}):void new Error("Invalid type")},E=l.a.createContext(),f=function(){var e=Object(n.useRef)(null),t=Object(n.useState)({moviename:"",year:"",image:""}),a=Object(m.a)(t,2),o=a[0],i=a[1],v=Object(n.useReducer)(p,{moviesList:[],isModalOpen:!1,modalContent:""}),f=Object(m.a)(v,2),b=f[0],O=f[1],y=function(e){var t=e.target.name,a=e.target.value,n=Object(c.a)(Object(c.a)({},o),{},Object(r.a)({},t,a));i(n)};function L(e){return/^(?:\w+:)?\/\/([^\s.]+\.\S{2}|localhost[:?\d]*)\S*$/.test(e)}Object(n.useEffect)((function(){e.current.scrollIntoView({behaviour:"smooth"})}),[b.moviesList]);return l.a.createElement(E.Provider,{value:{state:b}},l.a.createElement(d,null),b.isModalOpen&&l.a.createElement(u,{modalContent:b.modalContent,closeModal:function(){O({type:"CLOSE_MODAL"})}}),l.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),o.moviename&&o.year&&!L(o.image)?O({type:"INVALID_IMAGE_URL"}):o.image&&o.moviename&&o.year?(O({type:"ADD_MOVIE",payload:o}),i({moviename:"",year:"",image:""})):O({type:"FILL_ALL"})}},l.a.createElement("label",null,"\u2728 Movie name "),l.a.createElement("input",{type:"text",name:"moviename",onChange:function(e){y(e)},value:o.moviename})," ",l.a.createElement("br",null),l.a.createElement("label",null,"\ud83d\ude80 Year of release "),l.a.createElement("input",{type:"number",name:"year",onChange:function(e){y(e)},value:o.year})," ",l.a.createElement("br",null),l.a.createElement("label",null,"\ud83c\udf80 Image url "),l.a.createElement("input",{type:"text",name:"image",value:o.image,onChange:function(e){y(e)}})," ",L(o.image)?l.a.createElement("img",{src:o.image,style:{width:"200px",height:"200px",objectFit:"contain"}}):o.image?l.a.createElement("p",null,"Invalid URL"):l.a.createElement("p",null,"Image preview")," ",l.a.createElement("button",{className:"btn",type:"submit"},"Add movie")),l.a.createElement("div",{className:"users"},b.moviesList.map((function(e,t){return l.a.createElement(s,{movie:e,key:t,deleteMovie:function(){!function(e){O({type:"DELETE_MOVIE",payload:e})}(t)}})})),l.a.createElement("div",{ref:e})))};var b=function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h2",null,"Your Movie List"),l.a.createElement(f,null))};i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.79e46a4b.chunk.js.map